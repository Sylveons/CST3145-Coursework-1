<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
    <script src="Lessons.js"></script>

</head>
<body>

 <main>

    <div id="app">
        <header>
        <div v-if='showLesson'></div>
       <h1  v-text="sitename"></h1>
    </header>

    <div v-for="lesson in lessons">   
<figure>
    <img v-bind:src="lesson.Image"
    height="100px"
    width="100px">
</figure>
          
          <h2 v-text="lesson.Subject"></h2>
          <p v-html="lesson.Location"></p>
          <p v-html="lesson.Price"></p>
         <p v-html= "lesson.Spaces"></p>

        

        <button v-on:click='addToCart(lesson)'>Add to cart</button>
        </main>    

                <!-- <button @click="addToCart" v-bind:disabled="!canAddToCart">Add to cart <i class="fas fa-shopping-cart"></i></button> -->
                   
        </div> <!-- Stop app div -->
    </div>
        <script>

    
            let app = new Vue({
    
                el: '#app',
                data: {

sitename: 'After School Clubs',
                
                      

                    lessons: lessons,
                 
                    cart: [],
                    showProduct: true,
                },
                methods: {
                    addToCart (alesson) {
                        // this.lesson.Spaces - 1;
                        this.cart.push(this.alesson.id);
                    },
                },


                methods:{
                    

canAddToCart(lesson) {
return lesson.Spaces > this.cartCount(lesson.id);

}

                },

cartCount(id) {
let count = 0;
for (var i = 0; i < this.cart.length; i++){

    if (this.cart[i] == id) {

        count ++;
    }
}
return count;
                    }

                    
                
                
                // computed: {
                //     cartItemCount: function () {
                //         return this.cart.length || '';
                //     },
                //     canAddToCart: function () {
                //         return this.lesson.Spaces > this.cartItemCount;
                //     }
                

                
            });
          computed: { lessons()  
                
            function compare(a, b) {
if (a.price > b.price) return 1;
if (a.price < b.price) return -1;
return 0;
}

          }
            
        </script>


    
  </div>
    
    </body>
    
    </html>
            
</body>
</html>